MetaSN Strong-Normalisation Proof  Full Sketch, Audit Notes, and the
*rec_succ_bound* Issue
M
OSES
 R
AHNAMA
Mina Analytics
G
ENERATED
:
 2025-08-05 05:20:24
Overview
Companion document for termination proofs
DOCUMENT CONTENT
1. FILE LAYOUT ( 1 200 LOC)
| File | Purpose | Size | |------|---------|------| | 
Termination.lean
 | ordinal toolbox, core 

-lemmas, kernel rules, 

 measure, SN proof |
~1250 LOC | 
The file lives in namespace 
MetaSN
; it imports the operator kernel plus 
Mathlib
's ordinal theory. 
---
2. THE MEASURE 

 AND THE EIGHT DECREASE CASES
 : Trace  Ordinal
void        

 0
delta t     

 ^5 * ( t + 1) + 1
integrate t 

 ^4 * ( t + 1) + 1
merge a b   

 ^3 
 ( a + 1) + ^2 
 ( b + 1) + 1
rec b s n  

 ^( n +  s + 6) +  * ( b + 1) + 1
eqW  a b    

 ^( a +  b + 9) + 1
For every constructor there is a strict-decrease lemma (
mu_lt_
). 
They are assembled in 
mu_decreases
, yielding strong normalisation by
InvImage.wf
 + 
Subrelation.wf
. 
---
3. ORDINAL TOOLBOX (SELECTED)
Monotonicity of -powers (
opow_lt_opow_right
, etc.).
Additivity lemmas: 
omega_pow_add_lt
, 
omega_pow_add3_lt
.
Payload bounds for 
merge
: 
termA_le
, 
termB_le
, 
payload_bound_merge
.
Parameterized lemma
 
mu_rec_plus_3_lt
 that already 
requires
 an external domination hypothesis 
h_bound
  a pattern reused later.
> 
Audit note
 Several lemmas reuse the _"double-shadowed 
have this
 + 

 rewrite"_ trick; those should be double-checked for similar sleight-
of-hand. 
---
4. THE 
REC_SUCC_BOUND
 CONTROVERSY
Statement (simplified)
^( n +  s + 6) + ( b + 1) + 1 + 3
  <  ^5( n + 1) + 1 +  s + 6
Algebraically 
^5( n + 1) = ^( n + 6)
.
Because 

 s  0
, the left-hand exponent is 

 the right-hand one, so a 
strict* inequality cannot hold. 
The current proof hides this by
shadowing identifiers and rewriting the goal until Lean is proving a 
different* (true but irrelevant) inequality.
Naming Drift
Termination.lean
 refers to 
mu_rec_succ_bound
, 
but only 
rec_succ_bound
 exists 

 th